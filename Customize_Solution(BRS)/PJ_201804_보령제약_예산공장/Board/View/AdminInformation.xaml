<UserControl    x:Class="Board.AdminInformation"
                xmlns:local="clr-namespace:Board" 
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:icommon="clr-namespace:LGCNS.iPharmMES.Common;assembly=LGCNS.iPharmMES.Common"  
                xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
                xmlns:ControlsLib="clr-namespace:LGCNS.EZMES.ControlsLib;assembly=LGCNS.EZMES.ControlsLib"
                xmlns:Ctrl="clr-namespace:LGCNS.iPharmMES.Controls;assembly=LGCNS.iPharmMES.Controls"
                xmlns:c1="clr-namespace:C1.Silverlight.DataGrid;assembly=C1.Silverlight.DataGrid.5"
                mc:Ignorable="d"
                d:DesignHeight="768" d:DesignWidth="1024" 
                Name="Main">

    <UserControl.Resources>
        <ResourceDictionary>
            <Style x:Key="lblStyle" TargetType="sdk:Label">
                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FontFamily" Value="Malgun Gothic"/>
                <Setter Property="FontSize" Value="12"/>
            </Style>
            <Style x:Key="txtStyle" TargetType="TextBox">
                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FontFamily" Value="Malgun Gothic"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Width" Value="200"/>
            </Style>
            <Style x:Key="colHeader" TargetType="c1:DataGridColumnHeaderPresenter">
                <Setter Property="HorizontalContentAlignment" Value="Center" />
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FontFamily" Value="Malgun Gothic"/>
                <Setter Property="FontSize" Value="12"/>
            </Style>
            <Style x:Key="radioStyle" TargetType="RadioButton">
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FontFamily" Value="Malgun Gothic"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Margin" Value="2 0 2 0"/>
            </Style>
            <local:AdminInformationViewModel x:Key="ViewModel"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot" DataContext="{StaticResource ViewModel}">
        <i:Interaction.Triggers>
            <i:EventTrigger EventName="Loaded">
                <i:InvokeCommandAction Command="{Binding LoadedCommandAsync}"
                                       CommandParameter="{Binding ElementName=Main}"/>
            </i:EventTrigger>
        </i:Interaction.Triggers>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"  />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <ControlsLib:MainPanel_Top x:Name="mainPanel" Grid.Row="1" Grid.RowSpan="1" IsExpanded="True" IsEnableSearch="False" IsEnableSave="False" HorizontalAlignment="Stretch" Margin="6,0,-6,0">
            <ControlsLib:MainPanel_Top.Search>
                <Grid x:Name="searchPanel" VerticalAlignment="Center"  Margin="0 5 0 0" Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="12" Background="White">
                        <sdk:Label Content="사용하지 않은 데이터 포함" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,0,0" Width="155"/>
                        <CheckBox  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,0,0" IsChecked="{Binding IsChecked}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction Command="{Binding IsCheckedCommand}"
                                       CommandParameter="{Binding ElementName=Main}"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </CheckBox>
                    </Grid>
                    <sdk:Label Grid.Column="13" Content="사번"  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,0,0" Width="30" />
                    <TextBox Grid.Column="14"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="10,0,0,0" Width="80" Text="{Binding USERID, Mode=TwoWay}" Style="{StaticResource txtStyle}" />
                    <Button Grid.Column="15" Content="조회" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="10,0,0,0" Width="80" >
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Click">
                                <i:InvokeCommandAction Command="{Binding Path=BtnSearchCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </Button>
                    <Button Grid.Column="16" Content="저장" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="10,0,0,0" Width="80" >
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Click">
                                <i:InvokeCommandAction Command="{Binding Path=BtnUpdateCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </Button>
                </Grid>
            </ControlsLib:MainPanel_Top.Search>
            <ControlsLib:MainPanel_Top.Contents>
                <ControlsLib:CNSDataGrid  x:Name="AdminInformationGrid" IsRowNumber="True" Width="Auto" HeaderRowCount="2"
                            IsRowAdd="True" IsRowDelete="True" IsEditMode="True" IsEditSection="True"
                            ItemsSource="{Binding Path=BR_BRS_SEL_SEND_MAIL_TO_LIST.OUTDATAs, Mode=OneWay}" Margin="0" BorderThickness="0" ColumnRefresh="True">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="RowAdd_Click">
                            <i:InvokeCommandAction Command="{Binding RowAddCommand}"/>
                        </i:EventTrigger>
                        <i:EventTrigger EventName="GotFocus">
                            <i:InvokeCommandAction Command="{Binding RowGotFocusCommand}"/>
                        </i:EventTrigger>
                        <!--<i:EventTrigger EventName="CheckFieldDataChanged">
                            <i:InvokeCommandAction Command="{Binding RowGotFocusCommand}"/>
                        </i:EventTrigger>-->
                        <i:EventTrigger EventName="ComboFieldDataChanged">
                            <i:InvokeCommandAction Command="{Binding ComboFieldDataChangedCommand}"/>
                        </i:EventTrigger>
                        <i:EventTrigger EventName="SelectionChanged">
                            <i:InvokeCommandAction Command="{Binding ComboFieldDataChangedCommand}"/>
                        </i:EventTrigger>
                        <i:EventTrigger EventName="CommittingRowEdit">
                            <i:InvokeCommandAction Command="{Binding CommittingRowEditCommand}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <ControlsLib:CNSDataGrid.DataColumns>
                        <ControlsLib:DataColumn DataField="CHK" HeadName="" HeaderWidth="30"   ColumnType="CheckBox" HorizontalAlignment="Center" Excel="False" ColumnVisibility="Collapsed" ReadOnly="True"
                                                        ItemsSource="{Binding CHK, Mode=TwoWay}" />
                        <ControlsLib:DataColumn DataField="SEQ" HeadName="" HeaderWidth="30"   ColumnType="TextBox" HorizontalAlignment="Center" Excel="False" ColumnVisibility="Collapsed" ReadOnly="True"
                                                        ItemsSource="{Binding SEQ, Mode=TwoWay}" />
                        <ControlsLib:DataColumn HeadName="유형" DataField="CMCDTYPE" ColumnType="TextBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="150" ReadOnly="True" 
                                                        ItemsSource="{Binding CMCDTYPE, Mode=TwoWay}" />
                        <ControlsLib:DataColumn HeadName="코드" DataField="CMCODE" ColumnType="ComboBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="150" ReadOnly="False"
                                                        ItemsSource="{Binding BR_PHR_SEL_CommonCode.OUTDATAs, Mode=TwoWay}" DisplayMemberPath="CMCODE" SelectedValuePath="CMCODE"/>
                        <ControlsLib:DataColumn HeadName="코드명" DataField="CMCDNAME" ColumnType="TextBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="150" ReadOnly="True"
                                                        ItemsSource="{Binding CMCDNAME, Mode=TwoWay}"/>
                        <ControlsLib:DataColumn HeadName="사번" DataField="USERID" ColumnType="TextBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="150" ReadOnly="False" 
                                                        ItemsSource="{Binding USERID, Mode=TwoWay}"/>
                        <ControlsLib:DataColumn HeadName="이름" DataField="USERNAME" ColumnType="TextBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="150" ReadOnly="True"
                                                        ItemsSource="{Binding USERNAME, Mode=TwoWay}"/>
                        <ControlsLib:DataColumn HeadName="메일주소" DataField="USERMAIL" ColumnType="TextBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="200" ReadOnly="True"
                                                        ItemsSource="{Binding USERMAIL, Mode=TwoWay}"/>
                        <!--<ControlsLib:DataColumn HeadName="사용함" DataField="ISUSE" ColumnType="CheckBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="100" ReadOnly="False"
                                                        ItemsSource="{Binding ISUSE, Mode=TwoWay}"/>-->
                        <ControlsLib:DataColumn HeadName="사용함" DataField="ISUSE" ColumnType="ComboBox" ColumnVisibility="Visible" HorizontalAlignment="Center" HeaderWidth="100" ReadOnly="False"
                                                        ItemsSource="{Binding BR_BRS_SEL_ISUSE_YN.OUTDATAs, Mode=TwoWay}" DisplayMemberPath="ISUSE" SelectedValuePath="ISUSE"/>

                    </ControlsLib:CNSDataGrid.DataColumns>
                </ControlsLib:CNSDataGrid>
            </ControlsLib:MainPanel_Top.Contents>
        </ControlsLib:MainPanel_Top>
    </Grid>
</UserControl>
